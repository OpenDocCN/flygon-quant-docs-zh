["```py\n`class MFI(bt.Indicator):\n    lines = ('mfi', 'money_flow_raw', 'typical', 'money_flow_pos', 'money_flow_neg')\n\n    plotlines = dict(\n        money_flow_raw=dict(_plotskip=True),\n        money_flow_pos=dict(_plotskip=True),\n        money_flow_neg=dict(_plotskip=True),\n        typical=dict(_plotskip=True),\n    )\n\n    params = (\n        ('period', 14),\n    )\n\n    def next(self):\n        typical_price = (self.data.close[0] + self.data.low[0] + self.data.high[0]) / 3\n        money_flow_raw = typical_price * self.data.volume[0]\n\n        self.lines.typical[0] = typical_price\n        self.lines.money_flow_raw[0] = money_flow_raw\n\n        self.lines.money_flow_pos[0] = money_flow_raw if self.lines.typical[0] >= self.lines.typical[-1] else 0\n        self.lines.money_flow_neg[0] = money_flow_raw if self.lines.typical[0] <= self.lines.typical[-1] else 0\n\n        pos_period = math.fsum(self.lines.money_flow_pos.get(size=self.p.period))\n        neg_period = math.fsum(self.lines.money_flow_neg.get(size=self.p.period))\n\n        if neg_period == 0:\n            self.lines.mfi[0] = 100\n            return\n\n        self.lines.mfi[0] =  100 - 100 / (1 +  pos_period / neg_period)` \n```", "```py\n`class MFI_Canonical(bt.Indicator):\n    lines = ('mfi',)\n    params = dict(period=14)\n\n    def __init__(self):\n        tprice = (self.data.close + self.data.low + self.data.high) / 3.0\n        mfraw = tprice * self.data.volume\n\n        flowpos = bt.ind.SumN(mfraw * (tprice > tprice(-1)), period=self.p.period)\n        flowneg = bt.ind.SumN(mfraw * (tprice < tprice(-1)), period=self.p.period)\n\n        mfiratio = bt.ind.DivByZero(flowpos, flowneg, zero=100.0)\n        self.l.mfi = 100.0 - 100.0 / (1.0 + mfiratio)` \n```", "```py\n `if neg_period == 0:\n            self.lines.mfi[0] = 100\n            return\n\n        self.lines.mfi[0] =  100 - 100 / (1 +  pos_period / neg_period)` \n```", "```py\n `mfiratio = bt.ind.DivByZero(flowpos, flowneg, zero=100.0)\n        self.l.mfi = 100.0 - 100.0 / (1.0 + mfiratio)` \n```"]